<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cobranza MÃ³vil</title>

<style>
body{
  margin:0;
  font-family:'Segoe UI',Arial,sans-serif;
  background:#f3f4f6;
}
.view{display:none}
header{
  background:#111827;
  color:#fff;
  padding:16px;
}
.small{font-size:12px;color:#9ca3af}
.box{
  background:#fff;
  margin:16px;
  padding:16px;
  border-radius:16px;
  box-shadow:0 4px 10px rgba(0,0,0,.06);
}
.item{
  padding:14px;
  border-radius:14px;
  background:#f9fafb;
  margin-bottom:10px;
}
.btn{
  width:100%;
  padding:14px;
  border:none;
  border-radius:14px;
  font-size:16px;
  margin-top:10px;
}
.green{background:#16a34a;color:#fff}
.gray{background:#e5e7eb}
.red{background:#ef4444;color:#fff}
input{
  width:100%;
  padding:12px;
  margin-top:8px;
  border-radius:10px;
  border:1px solid #ddd;
}

.dashboard{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
  padding:16px;
}
.card{
  background:#fff;
  border-radius:16px;
  padding:14px;
  box-shadow:0 4px 10px rgba(0,0,0,.06);
}
.greenLine{border-left:6px solid #16a34a}
.blueLine{border-left:6px solid #2563eb}
.orangeLine{border-left:6px solid #f97316}
.grayLine{border-left:6px solid #6b7280}

.bottom-nav{
  position:fixed;
  bottom:0;
  left:0;
  right:0;
  display:flex;
  background:#fff;
  border-top:1px solid #e5e7eb;
}
.bottom-nav button{
  flex:1;
  padding:10px 4px;
  border:none;
  background:none;
  font-size:16px;
  line-height:1.1;
}
.exit-btn{margin:80px 16px 16px}
.hidden{display:none}
</style>
</head>

<body>

<!-- INICIO -->
<div id="inicioView" class="view">
  <div class="box" style="text-align:center;margin-top:60px">
    <h2>ğŸ¢ PRODUCCIONES CULTURALES DE MÃ‰XICO</h2>
    <p class="small" id="fechaHoraInicio"></p>
    <button class="btn green" onclick="show('loginAdminView')">âš™ï¸ ADMINISTRADOR</button>
    <button class="btn gray" onclick="alert('Login cobrador despuÃ©s')">ğŸš¶ COBRADOR</button>
  </div>
</div>

<!-- LOGIN ADMIN -->
<div id="loginAdminView" class="view">
<header>âš™ï¸ Administrador</header>
<div class="box">
  <input type="password" id="adminPass" placeholder="ContraseÃ±a admin">
  <button class="btn green" onclick="loginAdmin()">Entrar</button>
  <button class="btn gray" onclick="show('inicioView')">Volver</button>
</div>
</div>

<!-- ADMIN -->
<div id="adminView" class="view">
<header>
  âš™ï¸ <strong>Administrador</strong><br>
  <span class="small" id="fechaHoraAdmin"></span>
</header>

<!-- DASHBOARD -->
<div id="adminDashboard">
  <div class="dashboard">
    <div class="card greenLine"><span>ğŸ’° Cobrado hoy</span><strong>$0</strong></div>
    <div class="card blueLine"><span>ğŸ“… Cobrado mes</span><strong>$0</strong></div>
    <div class="card orangeLine"><span>â³ Saldo pendiente</span><strong>$0</strong></div>
    <div class="card grayLine"><span>ğŸ‘¥ Cobradores</span><strong id="totalCobradores">0</strong></div>
  </div>
</div>

<!-- COBRADORES -->
<div id="adminCobradores" class="hidden">
  <div class="box">
    <h4>ğŸ§‘â€ğŸ’¼ Cobradores</h4>

    <input id="cobNombre" placeholder="Nombre">
    <input id="cobPass" placeholder="ContraseÃ±a">
    <button class="btn green" onclick="guardarCobrador()">Guardar cobrador</button>

    <hr style="margin:16px 0">

    <div id="listaCobradores"></div>
  </div>
</div>

<button class="btn gray exit-btn" onclick="logout()">ğŸšª Salir</button>

<nav class="bottom-nav">
  <button onclick="verDashboard()">ğŸ <br><span class="small">Inicio</span></button>
  <button onclick="verCobradores()">ğŸ§‘â€ğŸ’¼<br><span class="small">Cobradores</span></button>
  <button>ğŸ§¾<br><span class="small">Ventas</span></button>
  <button>ğŸ“Š<br><span class="small">Reportes</span></button>
</nav>
</div>

<script>
const ADMIN_PASSWORD="1010";
let cobradores=JSON.parse(localStorage.getItem("cobradores"))||[];
let editId=null;

function show(id){
  document.querySelectorAll('.view').forEach(v=>v.style.display='none');
  document.getElementById(id).style.display='block';
}
show('inicioView');

function loginAdmin(){
  if(adminPass.value===ADMIN_PASSWORD){
    show('adminView');
    verDashboard();
    renderCobradores();
  }else alert("ContraseÃ±a incorrecta");
}
function logout(){show('inicioView')}

function verDashboard(){
  adminDashboard.classList.remove("hidden");
  adminCobradores.classList.add("hidden");
}
function verCobradores(){
  adminDashboard.classList.add("hidden");
  adminCobradores.classList.remove("hidden");
}

function guardarCobrador(){
  if(!cobNombre.value||!cobPass.value){alert("Datos incompletos");return;}
  if(editId){
    const c=cobradores.find(c=>c.id===editId);
    c.nombre=cobNombre.value;
    c.pass=cobPass.value;
    editId=null;
  }else{
    cobradores.push({id:Date.now(),nombre:cobNombre.value,pass:cobPass.value});
  }
  localStorage.setItem("cobradores",JSON.stringify(cobradores));
  cobNombre.value=cobPass.value="";
  renderCobradores();
}

function renderCobradores(){
  listaCobradores.innerHTML="";
  cobradores.forEach(c=>{
    const d=document.createElement("div");
    d.className="item";
    d.innerHTML=`
      <strong>ğŸ‘¤ ${c.nombre}</strong><br>
      <span class="small">ğŸ” ${c.pass}</span><br>
      <button class="btn gray" onclick="editar(${c.id})">âœï¸ Editar</button>
      <button class="btn red" onclick="eliminar(${c.id})">ğŸ—‘ Eliminar</button>
    `;
    listaCobradores.appendChild(d);
  });
  totalCobradores.innerText=cobradores.length;
}

function editar(id){
  const c=cobradores.find(c=>c.id===id);
  cobNombre.value=c.nombre;
  cobPass.value=c.pass;
  editId=id;
}

function eliminar(id){
  if(confirm("Â¿Eliminar cobrador?")){
    cobradores=cobradores.filter(c=>c.id!==id);
    localStorage.setItem("cobradores",JSON.stringify(cobradores));
    renderCobradores();
  }
}

/* FECHA Y HORA */
function actualizarFechaHora(){
  const d=new Date();
  const dias=["Domingo","Lunes","Martes","MiÃ©rcoles","Jueves","Viernes","SÃ¡bado"];
  const meses=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];
  const t=`${dias[d.getDay()]} ${d.getDate()} de ${meses[d.getMonth()]} ${d.getFullYear()} Â· ${d.toLocaleTimeString()}`;
  ["fechaHoraInicio","fechaHoraAdmin"].forEach(id=>{
    const el=document.getElementById(id);
    if(el) el.innerText=t;
  });
}
setInterval(actualizarFechaHora,1000);
actualizarFechaHora();
</script>

</body>
</html>
