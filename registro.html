<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Registro de Personal</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>

<style>
*{
  box-sizing:border-box;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto
}

body{
  margin:0;
  background:#f1f3f6;
  color:#111;
}

header{
  background:#0f172a;
  color:#fff;
  padding:10px 14px;
  display:flex;
  align-items:center;
}

header .back{
  font-size:18px;
  cursor:pointer;
}

header .title{
  flex:1;
  text-align:center;
  font-size:14px;
  font-weight:600;
}

.container{
  padding:14px;
  max-width:520px;
  margin:auto;
}

/* CARD */
.card{
  background:#fff;
  border-radius:12px;
  padding:14px;
  margin-bottom:12px;
  box-shadow:0 4px 10px rgba(0,0,0,.06);
}

h2{
  margin:0 0 12px;
  font-size:14px;
  font-weight:600;
}

/* INPUTS */
input,select{
  width:100%;
  padding:7px 10px;
  margin-bottom:10px;
  border-radius:8px;
  border:1px solid #d1d5db;
  font-size:13px;
}

/* BOTONES */
button{
  width:100%;
  padding:8px;
  border-radius:8px;
  border:none;
  font-size:13px;
  font-weight:600;
  cursor:pointer;
}

.btn-admin{
  background:#2563eb;
  color:#fff;
}

.btn-col{
  background:#6b7280;
  color:#fff;
}

.secondary{background:#9ca3af}
.danger{background:#dc2626}

.hidden{display:none}

/* LISTA */
.list{
  padding:8px 0;
  border-bottom:1px solid #e5e7eb;
}

.small{
  font-size:11px;
  color:#6b7280;
}
</style>
</head>

<body>

<header>
  <div class="back" onclick="volverInicio()">‚¨Ö</div>
  <div class="title">Registro de Personal</div>
</header>

<div class="container">

<!-- INICIO -->
<div class="card" id="inicio">
<h2>Selecciona acceso</h2>
<button class="btn-admin" onclick="irAdmin()">‚öôÔ∏è ADMIN</button>
<button class="btn-col" onclick="irCol()">üë§ COLABORADOR</button>
</div>

<!-- LOGIN ADMIN -->
<div class="card hidden" id="loginAdmin">
<h2>Administrador</h2>
<input id="adminPass" type="password" placeholder="Contrase√±a">
<button class="btn-admin" onclick="loginAdmin()">Entrar</button>
</div>

<!-- LOGIN COLABORADOR -->
<div class="card hidden" id="loginCol">
<h2>Colaborador</h2>
<select id="selectCol"></select>
<input id="colPass" type="password" placeholder="Contrase√±a">
<button class="btn-col" onclick="loginCol()">Entrar</button>
</div>

<!-- PANEL ADMIN -->
<div class="card hidden" id="panelAdmin">
<h2>Panel administrador</h2>
<button class="btn-admin" onclick="alert('Alta colaborador')">Alta colaborador</button>
<button class="btn-admin" onclick="alert('Listado')">Colaboradores</button>
</div>

</div>

<script>
const hash=t=>btoa(t);
const get=()=>JSON.parse(localStorage.getItem('colaboradores'))||[];

function ocultar(){
  document.querySelectorAll('.card').forEach(c=>c.classList.add('hidden'));
}

function volverInicio(){
  ocultar();
  inicio.classList.remove('hidden');
}

function irAdmin(){
  ocultar();
  loginAdmin.classList.remove('hidden');
  adminPass.value='';
}

function irCol(){
  ocultar();
  cargarSelect();
  loginCol.classList.remove('hidden');
  colPass.value='';
}

function loginAdmin(){
  if(adminPass.value==='1234'){
    ocultar();
    panelAdmin.classList.remove('hidden');
  }else alert('Contrase√±a incorrecta');
}

function cargarSelect(){
  selectCol.innerHTML='';
  get().forEach((c,i)=>{
    selectCol.innerHTML+=`<option value="${i}">${c.numero} - ${c.nombre}</option>`;
  });
}

function loginCol(){
  let i=selectCol.value;
  let c=get()[i];
  if(!c || c.password!==hash(colPass.value)){
    alert('Contrase√±a incorrecta');
    return;
  }
  alert('Ingreso correcto (perfil colaborador)');
}
</script>

</body>
</html>
